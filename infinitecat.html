<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>InfiniteCat</title>

    <!-- Style dependencies -->
    <link href="https://unpkg.com/normalize.css@^7.0.0" rel="stylesheet" />
    <!-- Blueprint stylesheets -->
    <link
      href="https://unpkg.com/@blueprintjs/icons@^3.4.0/lib/css/blueprint-icons.css"
      rel="stylesheet"
    />
    <link
      href="https://unpkg.com/@blueprintjs/core@^3.10.0/lib/css/blueprint.css"
      rel="stylesheet"
    />
  </head>
  <body style="background-color: #ffffff">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Blueprint dependencies -->
    <script src="https://unpkg.com/classnames@^2.2"></script>
    <script src="https://unpkg.com/dom4@^1.8"></script>
    <script src="https://unpkg.com/tslib@^1.9.0"></script>
    <script src="https://unpkg.com/react@^16.2.0/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@^16.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/react-transition-group@^2.2.1/dist/react-transition-group.min.js"></script>
    <script src="https://unpkg.com/popper.js@^1.14.1/dist/umd/popper.js"></script>
    <script src="https://unpkg.com/react-popper@^1.0.0/dist/index.umd.min.js"></script>
    <script src="https://unpkg.com/resize-observer-polyfill@^1.5.0"></script>
    <!-- Blueprint packages (note: icons script must come first) -->
    <script src="https://unpkg.com/@blueprintjs/icons@^3.4.0"></script>
    <script src="https://unpkg.com/@blueprintjs/core@^3.10.0"></script>

    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="scss" href="assets/css/main.scss">
    <!-- Icon -->
    <link rel="stylesheet" href="assets/fonts/line-icons.css">
    <!-- Owl carousel -->
    <link rel="stylesheet" href="assets/css/owl.carousel.min.css">
    <link rel="stylesheet" href="assets/css/owl.theme.css">

    <!-- Animate -->
    <link rel="stylesheet" href="assets/css/animate.css">
    <!-- Main Style -->
    <link rel="stylesheet" href="assets/css/main.css">
    <!-- Responsive Style -->
    <link rel="stylesheet" href="assets/css/responsive.css">
    <link rel="stylesheet" href="assets/css/newmain.css">

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Titillium+Web:wght@900&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500&display=swap" rel="stylesheet">

    <nav class="navbar navbar-expand-lg navbar-light bg-inverse scrolling-navbar navbar-brand-center"
    style="background-color: #ffffff">
    <a class="navbar-brand mb-0 h1" style="font-family: 'poppins', sans-serif; font-weight: bold; width: 100%; text-align: center;"
        href="index.html">&nbsp;donato<span class="text-primary">molino</span>.it</a>
    
</nav>

    <div
      style="
        display: flex;
        flex-direction: column;
        align-items: center;
        height: 100%;
        width: 100%;
      "
      id="mainCat"
    ></div>

    <script>
      newImg();
      newImg();
      newImg();
      newImg();
      newImg();
      var oldImg = "";
      function newImg() {
        var request = new XMLHttpRequest();

        request.open("GET", "https://aws.random.cat/meow", true);
        request.onload = function () {
          // Begin accessing JSON data here
          var data = JSON.parse(this.response);

          if (request.status >= 200 && request.status < 400) {
            console.log(data.file);
            if ((oldImg = "" || oldImg != data.file)) {
              oldImg = data.file;

              var img = document.createElement("img");
              img.src = data.file;
              img.classList.add("imgCat");
              var element = document.getElementById("mainCat");
              element.appendChild(img);
            } else {
              console.log("DOPPIONE");
            }
          } else {
            console.log("error");
          }
        };

        request.send();
      }

      $(window).scroll(function () {
        if (
          $(window).scrollTop() + $(window).height() >=
          $(document).height() / 1.3
        ) {
          newImg();
        }
      });
    </script>

    <style>
      .imgCat {
        margin: 10px;
        box-shadow: rgb(61, 61, 61) 5px 5px 10px;
        max-width: 90vw;
        max-height: 90vh;
      }
    </style>
  </body>
</html>
